# Розробка RESTful API з використанням Express

**Складність**: Важке

## Мета завдання

Розробити RESTful API сервер з використанням Express.js. Сервер має обробляти різні типи HTTP запитів (GET, POST, PUT, DELETE) до визначених маршрутів та повертати відповідні текстові відповіді.

## Основні вимоги

### 1. Створення Express сервера

- Створіть сервер, який слухає вхідні з'єднання на порту `3000`.
- Використовуйте Express.js для обробки HTTP запитів.

### 2. Структура проекту

- Організуйте код у модульній структурі.
- Створіть окремі модулі для маршрутів та, за потреби, обробників запитів.

### 3. Маршрути сервера

Реалізуйте наступні маршрути:

- **`/`**:

  - `GET`: Повертає "Get root route".

- **`/users`**:

  - `GET`: Повертає "Get users route".
  - `POST`: Повертає "Post users route".

- **`/users/:userId`**:

  - `GET`: Повертає "Get user by Id route: {userId}".
  - `PUT`: Повертає "Put user by Id route: {userId}".
  - `DELETE`: Повертає "Delete user by Id route: {userId}".

- **`/articles`**:

  - `GET`: Повертає "Get articles route".
  - `POST`: Повертає "Post articles route".

- **`/articles/:articleId`**:
  - `GET`: Повертає "Get article by Id route: {articleId}".
  - `PUT`: Повертає "Put article by Id route: {articleId}".
  - `DELETE`: Повертає "Delete article by Id route: {articleId}".

### 4. Відповіді сервера

- Відповіді мають бути текстовими для спрощення інтеграції та відладки.
- Встановлюйте наступні статус-коди для різних типів запитів:
  - **GET запити**:
    - `200 OK` — успішний запит на всі маршрути (`/`, `/users`, `/users/:userId`, `/articles`, `/articles/:articleId`)
    - `404 Not Found` — для запитів на неіснуючі ресурси (`/users/:userId`, `/articles/:articleId` з неіснуючими ID)
  - **POST запити**:
    - `201 Created` — успішне створення ресурсу (для `/users` та `/articles`)
    - `400 Bad Request` — некоректні дані запиту (відсутні обов'язкові поля або некоректний формат)
  - **PUT запити**:
    - `200 OK` — успішне оновлення ресурсу (для `/users/:userId` та `/articles/:articleId`)
    - `404 Not Found` — ресурс не знайдено (для неіснуючих ID)
    - `400 Bad Request` — некоректні дані запиту
  - **DELETE запити**:
    - `204 No Content` — успішне видалення ресурсу (для `/users/:userId` та `/articles/:articleId`)
    - `404 Not Found` — ресурс не знайдено (для неіснуючих ID)

### 5. Обробка помилок

- Реалізуйте два рівні обробки помилок:

  1. **На рівні маршрутів**:

     - `404 Not Found` — перевіряйте наявність ресурсу у кожному маршруті з параметром ID та повертайте відповідний статус, якщо ресурс не знайдено
     - `400 Bad Request` — валідуйте вхідні дані для POST та PUT запитів та повертайте відповідний статус при некоректних даних

  2. **На глобальному рівні**:
     - Створіть middleware для обробки неіснуючих маршрутів, що завжди повертає `404 Not Found`
     - Створіть middleware для обробки непередбачених помилок, що повертає `500 Internal Server Error`

- Приклад реалізації глобальних обробників:

  ```javascript
  // Обробка неіснуючих маршрутів (404)
  app.use((req, res) => {
    res.status(404).send('Not Found')
  })

  // Глобальна обробка помилок (500)
  app.use((err, req, res, next) => {
    console.error(err.stack)
    res.status(500).send('Internal Server Error')
  })
  ```

- ВАЖЛИВО: Глобальні обробники помилок повинні бути підключені в коді після всіх маршрутів.

## Технічні деталі

- **Express.js**: Використовуйте Express.js для маршрутизації та обробки запитів.
